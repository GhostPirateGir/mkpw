# mkpw
Command-line tool for safe password generation

_mkpw_ aims to provide password for use primarily for online accounts.
_mkpw_ enables users to safely use password derived from a single secret
passphrase for all of their accounts.
Passwords generated with _mkpw_ are secure (hard to guess and unique for
every account) and easy to manage (only one passphrase to remember, password
derived from account's domain name).

_mkpw_ is written in Rust.

## How-to use
To generate a password e.g. for github.com, type

    mkpw github.com

_mkpw_ will ask for a passphrase and a confirmation of this passphrase (to
avoid typos) and display a password. Thank to the use of _ncurses_, neither
will the password be echoed while being typed in, nor will the password stay
on screen longer than necessary.

To reproduce the password for login, the command-line switch _-n_ can be used:

    mkpw -n github.com

This will make _mkpw_ ask for the passphrase only once for convenience, as
typos are not a severe issue in this case.
Avoid using _-n_ while generating new passwords though.

The security of passwords generated with _mkpw_ depends on the secret 
passphrase chosen, so be sure to choose a strong passphrase.

## Technical background
_mkpw_ uses a concatenation of the domain name and the secret passphrase
(_domain_:_passphrase_) as input to the MD5 hashing algorithm. The binary
output of the MD5 algorithm is encoded using base64 and truncated to 10
characters.

### Security considerations
Thanks to the use of a hashing algorithms, _mkpw_ will generate a unique
password for every domain (collisions, even in the first 7 bytes, have a
probability small enough to be negligible). 
Moreover, the one-way nature of hashing algorithms prevents the secret 
passphrase from being disclosed from the generated password.
Therefore, even if a password gets stolen from an account, password derived 
from the same passphrase are still safe.

While not being random, the passwords generated by _mkpw_ fulfil the basic
requirements for password strength with having a length of 10 characters
being chosen from an alphabet of 64.

The MD5 hashing algorithm has lately been abandoned for security reasons.
The collision resistance of MD5 has been shown to be too weak to fulfil the
requirements for cryptographic use.
However, since the MD5 algorithms isn't used for a strictly cryptographical
purpose in _mkpw_, it's properties are still fully sufficient.
In the use case of _mkpw_, the weak collision resistance does only mean that a
password generated by _mkpw_ might also be generated using different domain
and secret passphrase.
This does not undermine the passwords security in any way.

MD5's one-way property suffers from the same attack surface as those of every
other cryptographic hashing algorithm:
An attacker might reverse the hash using pre-computed rainbow tables in 
acceptable time.
To prevent this, such algorithms are usually used with an additional _salt_ in
cryptographic context.
This salt is a randomly generated character string that is added to the 
input of the hash so pre-computation is not possible anymore.
The use of such a salt is unsuitable in the case of _mkpw_, since the user 
would need to also remember the salt.
However, even with rainbow tables, reversing is only practical for relatively 
short hash inputs, so the security of passwords generated by _mkpw_ relies 
solely in on the strength of the secret passphrase chosen.
